{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/metronome/DropdownItem.tsx"],"sourcesContent":["import React from \"react\";\n\ninterface DropdownItemProps {\n  setDropdownOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  setSoundEffect: React.Dispatch<React.SetStateAction<string>>;\n  dropdownOpen: boolean;\n  sound: string;\n}\n\nconst DropdownItem = (props: DropdownItemProps) => {\n  const { setDropdownOpen, setSoundEffect, dropdownOpen, sound } = props;\n\n  const handleClick = () => {\n    setSoundEffect(sound);\n    setDropdownOpen(!dropdownOpen);\n  };\n\n  return (\n    <div className=\"metro-dropdown-item\" onClick={handleClick}>\n      {sound}\n    </div>\n  );\n};\n\nexport default DropdownItem;\n"],"names":[],"mappings":";;;;;AASA,MAAM,eAAe,CAAC;IACpB,MAAM,EAAE,eAAe,EAAE,cAAc,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG;IAEjE,MAAM,cAAc;QAClB,eAAe;QACf,gBAAgB,CAAC;IACnB;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAsB,SAAS;kBAC3C;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/metronome/Dropdown.tsx"],"sourcesContent":["import DropdownItem from \"./DropdownItem\";\n\nconst Dropdown = (props: any) => {\n  const { dropdownOpen, soundEffect, setSoundEffect, setDropdownOpen } = props;\n\n  const sounds = [\"sidestick\", \"cowbell\", \"woodblock\"];\n\n  const renderDropdown = () => {\n    if (props.open) {\n      const newSounds = sounds.filter((sound) => {\n        return sound !== soundEffect;\n      });\n      return newSounds.map((sound) => {\n        return (\n          <DropdownItem\n            sound={sound}\n            key={sound}\n            setSoundEffect={setSoundEffect}\n            setDropdownOpen={setDropdownOpen}\n            dropdownOpen={dropdownOpen}\n          />\n        );\n      });\n    }\n  };\n\n  return (\n    <div className={`metro-dropdown${dropdownOpen ? ` open` : ` closed`}`}>\n      {renderDropdown()}\n    </div>\n  );\n};\n\nexport default Dropdown;\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,MAAM,WAAW,CAAC;IAChB,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,cAAc,EAAE,eAAe,EAAE,GAAG;IAEvE,MAAM,SAAS;QAAC;QAAa;QAAW;KAAY;IAEpD,MAAM,iBAAiB;QACrB,IAAI,MAAM,IAAI,EAAE;YACd,MAAM,YAAY,OAAO,MAAM,CAAC,CAAC;gBAC/B,OAAO,UAAU;YACnB;YACA,OAAO,UAAU,GAAG,CAAC,CAAC;gBACpB,qBACE,8OAAC,wIAAA,CAAA,UAAY;oBACX,OAAO;oBAEP,gBAAgB;oBAChB,iBAAiB;oBACjB,cAAc;mBAHT;;;;;YAMX;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAW,CAAC,cAAc,EAAE,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;kBAClE;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/hooks/useCookies.ts"],"sourcesContent":["const useCookies = () => {\n\tconst getCookie = (name: string) => {\n\t\tconst cookieString = document.cookie\n\t\t\t.split(\"; \")\n\t\t\t.find((row) => row.startsWith(`${name}=`));\n\t\treturn cookieString ? cookieString.split(\"=\")[1] : null;\n\t};\n\n\tconst setCookie = (name: string, value: string, days = 7) => {\n\t\tconst expires = new Date();\n\t\texpires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);\n\t\tdocument.cookie = `${name}=${value}; expires=${expires.toUTCString()}; path=/`;\n\t};\n\n\tconst deleteCookie = (name: string) => {\n\t\tdocument.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n\t};\n\n\treturn { getCookie, setCookie, deleteCookie };\n};\n\nexport default useCookies;\n"],"names":[],"mappings":";;;AAAA,MAAM,aAAa;IAClB,MAAM,YAAY,CAAC;QAClB,MAAM,eAAe,SAAS,MAAM,CAClC,KAAK,CAAC,MACN,IAAI,CAAC,CAAC,MAAQ,IAAI,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;QACzC,OAAO,eAAe,aAAa,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;IACpD;IAEA,MAAM,YAAY,CAAC,MAAc,OAAe,OAAO,CAAC;QACvD,MAAM,UAAU,IAAI;QACpB,QAAQ,OAAO,CAAC,QAAQ,OAAO,KAAK,OAAO,KAAK,KAAK,KAAK;QAC1D,SAAS,MAAM,GAAG,GAAG,KAAK,CAAC,EAAE,MAAM,UAAU,EAAE,QAAQ,WAAW,GAAG,QAAQ,CAAC;IAC/E;IAEA,MAAM,eAAe,CAAC;QACrB,SAAS,MAAM,GAAG,GAAG,KAAK,iDAAiD,CAAC;IAC7E;IAEA,OAAO;QAAE;QAAW;QAAW;IAAa;AAC7C;uCAEe","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/services/Spotify.ts"],"sourcesContent":["export const PlaySong = () => {\n\tconsole.log(\"Beep boop\");\n};\n\nconst SPOTIFY_API_BASE = \"https://api.spotify.com/v1\";\n\nlet spotifySDKPromise: Promise<void> | null = null;\n\nexport function loadSpotifySDK(): Promise<void> {\n\tif (spotifySDKPromise) return spotifySDKPromise;\n\n\tspotifySDKPromise = new Promise((resolve, reject) => {\n\t\tif ((window as any).Spotify) {\n\t\t\tresolve();\n\t\t\treturn;\n\t\t}\n\n\t\tconst script = document.createElement(\"script\");\n\t\tscript.src = \"https://sdk.scdn.co/spotify-player.js\";\n\t\tscript.async = true;\n\t\tscript.onload = () => {\n\t\t\t(window as any).onSpotifyWebPlaybackSDKReady = () => resolve();\n\t\t};\n\t\tscript.onerror = reject;\n\n\t\tdocument.body.appendChild(script);\n\t});\n\n\treturn spotifySDKPromise;\n}\n\nexport async function getSpotifyTrackIdByArtistAndTitle(\n\ttitle: string,\n\taccessToken: string\n): Promise<string | null> {\n\tconst query = `track:${title}`;\n\tconst url = new URL(`${SPOTIFY_API_BASE}/search`);\n\turl.searchParams.append(\"q\", query);\n\turl.searchParams.append(\"type\", \"track\");\n\turl.searchParams.append(\"limit\", \"1\");\n\n\ttry {\n\t\tconst res = await fetch(url.toString(), {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${accessToken}`,\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t});\n\n\t\tif (!res.ok) {\n\t\t\tconst errorData = await res.json();\n\t\t\tthrow new Error(\n\t\t\t\t`Spotify search error: ${res.status} ${res.statusText} - ${errorData.error?.message}`\n\t\t\t);\n\t\t}\n\n\t\tconst data = await res.json();\n\t\tconst track = data.tracks.items[0];\n\n\t\treturn track || null;\n\t} catch (err) {\n\t\tconsole.error(\"[Spotify Search Error]\", err);\n\t\treturn null;\n\t}\n}\n"],"names":[],"mappings":";;;;;AAAO,MAAM,WAAW;IACvB,QAAQ,GAAG,CAAC;AACb;AAEA,MAAM,mBAAmB;AAEzB,IAAI,oBAA0C;AAEvC,SAAS;IACf,IAAI,mBAAmB,OAAO;IAE9B,oBAAoB,IAAI,QAAQ,CAAC,SAAS;QACzC,IAAI,AAAC,OAAe,OAAO,EAAE;YAC5B;YACA;QACD;QAEA,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,OAAO,GAAG,GAAG;QACb,OAAO,KAAK,GAAG;QACf,OAAO,MAAM,GAAG;YACd,OAAe,4BAA4B,GAAG,IAAM;QACtD;QACA,OAAO,OAAO,GAAG;QAEjB,SAAS,IAAI,CAAC,WAAW,CAAC;IAC3B;IAEA,OAAO;AACR;AAEO,eAAe,kCACrB,KAAa,EACb,WAAmB;IAEnB,MAAM,QAAQ,CAAC,MAAM,EAAE,OAAO;IAC9B,MAAM,MAAM,IAAI,IAAI,GAAG,iBAAiB,OAAO,CAAC;IAChD,IAAI,YAAY,CAAC,MAAM,CAAC,KAAK;IAC7B,IAAI,YAAY,CAAC,MAAM,CAAC,QAAQ;IAChC,IAAI,YAAY,CAAC,MAAM,CAAC,SAAS;IAEjC,IAAI;QACH,MAAM,MAAM,MAAM,MAAM,IAAI,QAAQ,IAAI;YACvC,SAAS;gBACR,eAAe,CAAC,OAAO,EAAE,aAAa;gBACtC,gBAAgB;YACjB;QACD;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACZ,MAAM,YAAY,MAAM,IAAI,IAAI;YAChC,MAAM,IAAI,MACT,CAAC,sBAAsB,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,UAAU,CAAC,GAAG,EAAE,UAAU,KAAK,EAAE,SAAS;QAEvF;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,QAAQ,KAAK,MAAM,CAAC,KAAK,CAAC,EAAE;QAElC,OAAO,SAAS;IACjB,EAAE,OAAO,KAAK;QACb,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO;IACR;AACD","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/context/playerContext.tsx"],"sourcesContent":["\"use client\";\n\nimport useCookies from \"@/hooks/useCookies\";\nimport {\n\tgetSpotifyTrackIdByArtistAndTitle,\n\tloadSpotifySDK,\n} from \"@/services/Spotify\";\nimport { SongData, SpotifyPlayer } from \"@/types/types\";\nimport { createContext, useState, useEffect, useRef } from \"react\";\nimport { toast } from \"sonner\";\nimport Spotify from \"spotify-api.js\";\nimport { areTitlesSimilar } from \"@/utils/helpers\";\nexport const PlayerContext = createContext({});\n\nexport const PlayerProvider = ({ children }: { children: React.ReactNode }) => {\n\tconst [player, setPlayer] = useState<SpotifyPlayer | null>(null);\n\tconst [currentTrack, setCurrentTrack] = useState<SongData | undefined>(\n\t\tundefined\n\t);\n\tconst [isPlaying, setIsPlaying] = useState(false);\n\tconst [isPaused, setIsPaused] = useState(false);\n\tconst [spotifyTrack, setSpotifyTrack] = useState<Spotify.Track>();\n\tconst [deviceId, setDeviceId] = useState(\"\");\n\tconst [active, setActive] = useState(false);\n\tconst [isNextSongLoading, setIsNextSongLoading] = useState(false);\n\tconst [resumePosition, setResumePosition] = useState<number>(0);\n\n\tconst { setCookie, getCookie } = useCookies();\n\n\t// =====================\n\t// Initialize player SKD\n\t// =====================\n\n\tuseEffect(() => {\n\t\tlet player: SpotifyPlayer;\n\n\t\tloadSpotifySDK()\n\t\t\t.then(() => {\n\t\t\t\tconst token = JSON.parse(getCookie(\"token\") || \"{}\")?.access_token;\n\t\t\t\tif (!token) {\n\t\t\t\t\tconsole.warn(\"No access token found in cookies.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tplayer = new (window as any).Spotify.Player({\n\t\t\t\t\tname: \"PhilPlaysBass app\",\n\t\t\t\t\tgetOAuthToken: (cb: (token: string) => void) => cb(token),\n\t\t\t\t\tvolume: 0.5,\n\t\t\t\t}) as any;\n\n\t\t\t\tsetPlayer(player);\n\n\t\t\t\tplayer.addListener(\"ready\", async ({ device_id }: any) => {\n\t\t\t\t\tconsole.log(\"âœ… Ready with Device ID\", device_id);\n\t\t\t\t\tsetDeviceId(device_id);\n\t\t\t\t\tsetCookie(\"device_id\", device_id);\n\n\t\t\t\t\tconst pb = await transferPlayback(device_id, token);\n\t\t\t\t\tconsole.log(\"ðŸ” Playback transferred\", pb);\n\t\t\t\t});\n\n\t\t\t\tplayer.addListener(\"not_ready\", ({ device_id }: any) => {\n\t\t\t\t\tconsole.log(\"âŒ Device offline\", device_id);\n\t\t\t\t});\n\n\t\t\t\tplayer.addListener(\"player_state_changed\", (state: any) => {\n\t\t\t\t\tif (!state) return;\n\t\t\t\t\tsetResumePosition(state.position);\n\t\t\t\t\tsetIsPaused(state.paused);\n\t\t\t\t\tsetIsNextSongLoading(state.loading);\n\t\t\t\t});\n\n\t\t\t\tplayer.connect().then((success: boolean) => {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tconsole.log(\"âœ… Web player connected\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(\"âŒ Failed to load Spotify SDK\", error);\n\t\t\t});\n\n\t\treturn () => {\n\t\t\tif (player) {\n\t\t\t\tplayer.disconnect();\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// =================\n\t// Fetch next song\n\t// =================\n\tuseEffect(() => {\n\t\tconst data = getCookie(\"token\");\n\t\tsetIsNextSongLoading(true);\n\n\t\tif (!data) {\n\t\t\tconsole.warn(\"No token cookie found\");\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst tokenObject = JSON.parse(data);\n\t\t\tif (currentTrack && tokenObject?.access_token) {\n\t\t\t\t(async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst result: any = await getSpotifyTrackIdByArtistAndTitle(\n\t\t\t\t\t\t\tcurrentTrack.song_title,\n\t\t\t\t\t\t\ttokenObject.access_token\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\tsetSpotifyTrack(result);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoast(\"Not found\", {\n\t\t\t\t\t\t\t\tdescription: `Spotify did not find '${currentTrack.song_title}' by '${currentTrack.artist.name}'`,\n\t\t\t\t\t\t\t\tclassName: \"not-found_toast\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Error fetching Spotify track ID:\", err);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Failed to parse token cookie:\", err);\n\t\t}\n\t}, [currentTrack]);\n\n\tuseEffect(() => {\n\t\tif (isNextSongLoading) {\n\t\t\tplay();\n\t\t}\n\t}, [spotifyTrack]);\n\n\t// ================================================\n\t// Necessary to ensure the app can control playback\n\t// ================================================\n\tasync function transferPlayback(device_id: string, token: string) {\n\t\tawait fetch(\"https://api.spotify.com/v1/me/player\", {\n\t\t\tmethod: \"PUT\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tdevice_ids: [device_id],\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAuthorization: `Bearer ${token}`, // use a valid token\n\t\t\t},\n\t\t});\n\t}\n\n\tasync function play(position?: number) {\n\t\tconst token = JSON.parse(getCookie(\"token\") || \"{}\")?.access_token;\n\t\tconst device_id = getCookie(\"device_id\");\n\n\t\tif (!token || !device_id) {\n\t\t\tconsole.error(\"Missing token or deviceId\");\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\n\t\t\t`https://api.spotify.com/v1/me/player/play?device_id=${device_id}`,\n\t\t\t{\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\turis: [spotifyTrack?.uri],\n\t\t\t\t\tposition_ms: position || 0,\n\t\t\t\t}),\n\t\t\t}\n\t\t).then(() => setIsNextSongLoading(false));\n\t}\n\n\treturn (\n\t\t<PlayerContext.Provider\n\t\t\tvalue={{\n\t\t\t\tplayer,\n\t\t\t\tcurrentTrack,\n\t\t\t\tsetIsPlaying,\n\t\t\t\tsetCurrentTrack,\n\t\t\t\tisPlaying,\n\t\t\t\tisPaused,\n\t\t\t\tsetIsPaused,\n\t\t\t\tplay,\n\t\t\t\tspotifyTrack,\n\t\t\t\tsetResumePosition,\n\t\t\t\tresumePosition,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</PlayerContext.Provider>\n\t);\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/metronome/PlayButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { PlayerContext } from \"@/context/playerContext\";\nimport { SongData } from \"@/types/types\";\nimport { PauseIcon, PlayIcon } from \"lucide-react\";\nimport React, { useContext } from \"react\";\n\nconst PlayButton = ({\n\tisShowing,\n\tplayer,\n\tsong,\n}: {\n\tsong: SongData;\n\tisShowing: boolean;\n\tplayer: Spotify.Player;\n}) => {\n\tconst {\n\t\tsetResumePosition,\n\t\tresumePosition,\n\t\tcurrentTrack,\n\t\tsetIsPlaying,\n\t\tisPaused,\n\t\tsetCurrentTrack,\n\t\tplay,\n\t} = useContext<any>(PlayerContext);\n\n\tconst handlePlayClick = async () => {\n\t\tconst state = await player.getCurrentState();\n\t\tconst isDifferentTrack = currentTrack?.song_title !== song.song_title;\n\n\t\tif (!isDifferentTrack && state?.paused) {\n\t\t\tplay(resumePosition);\n\t\t}\n\n\t\tif (isDifferentTrack) {\n\t\t\tsetCurrentTrack(song);\n\t\t\tsetIsPlaying(true);\n\t\t\tsetResumePosition(0);\n\t\t\treturn;\n\t\t}\n\n\t\tif (state?.paused) {\n\t\t\tplay(resumePosition);\n\t\t\tsetIsPlaying(true);\n\t\t}\n\t};\n\n\tconst handlePauseClick = async () => {\n\t\tconst state = await player.getCurrentState();\n\t\tawait player.pause();\n\t\tsetIsPlaying(false);\n\t\tsetResumePosition(state?.position);\n\t};\n\n\tconst isCurrentSong = currentTrack?.song_title === song.song_title;\n\tconst showPause = isCurrentSong && !isPaused;\n\n\treturn (\n\t\t<div className={`play-button ${isShowing ? \"showing\" : \"\"}`}>\n\t\t\t{showPause ? (\n\t\t\t\t<button onClick={handlePauseClick}>\n\t\t\t\t\t<PauseIcon />\n\t\t\t\t</button>\n\t\t\t) : (\n\t\t\t\t<button onClick={handlePlayClick}>\n\t\t\t\t\t<PlayIcon />\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default PlayButton;\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAAA;AACA;AALA;;;;;AAOA,MAAM,aAAa,CAAC,EACnB,SAAS,EACT,MAAM,EACN,IAAI,EAKJ;IACA,MAAM,EACL,iBAAiB,EACjB,cAAc,EACd,YAAY,EACZ,YAAY,EACZ,QAAQ,EACR,eAAe,EACf,IAAI,EACJ,GAAG,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAO,yHAAA,CAAA,gBAAa;IAEjC,MAAM,kBAAkB;QACvB,MAAM,QAAQ,MAAM,OAAO,eAAe;QAC1C,MAAM,mBAAmB,cAAc,eAAe,KAAK,UAAU;QAErE,IAAI,CAAC,oBAAoB,OAAO,QAAQ;YACvC,KAAK;QACN;QAEA,IAAI,kBAAkB;YACrB,gBAAgB;YAChB,aAAa;YACb,kBAAkB;YAClB;QACD;QAEA,IAAI,OAAO,QAAQ;YAClB,KAAK;YACL,aAAa;QACd;IACD;IAEA,MAAM,mBAAmB;QACxB,MAAM,QAAQ,MAAM,OAAO,eAAe;QAC1C,MAAM,OAAO,KAAK;QAClB,aAAa;QACb,kBAAkB,OAAO;IAC1B;IAEA,MAAM,gBAAgB,cAAc,eAAe,KAAK,UAAU;IAClE,MAAM,YAAY,iBAAiB,CAAC;IAEpC,qBACC,8OAAC;QAAI,WAAW,CAAC,YAAY,EAAE,YAAY,YAAY,IAAI;kBACzD,0BACA,8OAAC;YAAO,SAAS;sBAChB,cAAA,8OAAC,wMAAA,CAAA,YAAS;;;;;;;;;iCAGX,8OAAC;YAAO,SAAS;sBAChB,cAAA,8OAAC,sMAAA,CAAA,WAAQ;;;;;;;;;;;;;;;AAKd;uCAEe","debugId":null}},
    {"offset": {"line": 431, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/metronome/SongCard.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./SongCard.scss\";\nimport { Song, SongData } from \"../../types/types\";\n\nimport { animate, stagger } from \"motion\";\nimport { useContext, useEffect, useLayoutEffect, useState } from \"react\";\nimport PlayButton from \"./PlayButton\";\nimport { PlayerContext } from \"@/context/playerContext\";\n\nfunction SongCard(props: { song: SongData }) {\n\tconst { song } = props;\n\tconst [showPlayButton, setShowPlayButton] = useState(false);\n\tconst { player, currentTrack } = useContext<any>(PlayerContext);\n\n\tuseLayoutEffect(() => {\n\t\tanimate(\n\t\t\t\".songcard\",\n\t\t\t{ opacity: [0, 1] },\n\t\t\t{ duration: 0.5, delay: stagger(0.05) }\n\t\t);\n\t}, []);\n\tuseEffect(() => {\n\t\tif (currentTrack && currentTrack.song_title == song.song_title) {\n\t\t\tsetShowPlayButton(true);\n\t\t} else {\n\t\t\tsetShowPlayButton(false);\n\t\t}\n\t}, [currentTrack]);\n\n\tconst renderGenres = (genres: string[]) => {\n\t\tif (genres) {\n\t\t\tconst newArr = [];\n\t\t\tfor (let i = 0; i < genres.length; i++) {\n\t\t\t\tnewArr.push(genres[i][0].toUpperCase() + genres[i].slice(1));\n\t\t\t}\n\t\t\treturn newArr.join(\", \");\n\t\t}\n\t\treturn undefined;\n\t};\n\n\tconst formatTitle = (title: string) => {\n\t\tif (title.length > 30) {\n\t\t\treturn title.split(\" \").slice(0, 5).join(\" \") + \"...\";\n\t\t}\n\t\treturn title;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"songcard\"\n\t\t\tonMouseEnter={() => setShowPlayButton(true)}\n\t\t\tonMouseLeave={() => {\n\t\t\t\tif (currentTrack && currentTrack.song_title !== song.song_title) {\n\t\t\t\t\tsetShowPlayButton(false);\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"songcard-left\">\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"songcard-title\">{formatTitle(song.song_title)}</div>\n\t\t\t\t\t<div className=\"songcard-artist\">{song.artist.name}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"songcard-right\">\n\t\t\t\t<div className=\"songcard-genres\">\n\t\t\t\t\t{renderGenres(song.artist.genres)}\n\t\t\t\t</div>\n\t\t\t\t{player && (\n\t\t\t\t\t<PlayButton isShowing={showPlayButton} player={player} song={song} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SongCard;\n"],"names":[],"mappings":";;;;AAKA;AAAA;AACA;AACA;AACA;AARA;;;;;;;AAUA,SAAS,SAAS,KAAyB;IAC1C,MAAM,EAAE,IAAI,EAAE,GAAG;IACjB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAO,yHAAA,CAAA,gBAAa;IAE9D,CAAA,GAAA,qMAAA,CAAA,kBAAe,AAAD,EAAE;QACf,CAAA,GAAA,+IAAA,CAAA,UAAO,AAAD,EACL,aACA;YAAE,SAAS;gBAAC;gBAAG;aAAE;QAAC,GAClB;YAAE,UAAU;YAAK,OAAO,CAAA,GAAA,oKAAA,CAAA,UAAO,AAAD,EAAE;QAAM;IAExC,GAAG,EAAE;IACL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACT,IAAI,gBAAgB,aAAa,UAAU,IAAI,KAAK,UAAU,EAAE;YAC/D,kBAAkB;QACnB,OAAO;YACN,kBAAkB;QACnB;IACD,GAAG;QAAC;KAAa;IAEjB,MAAM,eAAe,CAAC;QACrB,IAAI,QAAQ;YACX,MAAM,SAAS,EAAE;YACjB,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;gBACvC,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,KAAK,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC;YAC1D;YACA,OAAO,OAAO,IAAI,CAAC;QACpB;QACA,OAAO;IACR;IAEA,MAAM,cAAc,CAAC;QACpB,IAAI,MAAM,MAAM,GAAG,IAAI;YACtB,OAAO,MAAM,KAAK,CAAC,KAAK,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO;QACjD;QACA,OAAO;IACR;IAEA,qBACC,8OAAC;QACA,WAAU;QACV,cAAc,IAAM,kBAAkB;QACtC,cAAc;YACb,IAAI,gBAAgB,aAAa,UAAU,KAAK,KAAK,UAAU,EAAE;gBAChE,kBAAkB;YACnB;QACD;;0BAEA,8OAAC;gBAAI,WAAU;0BACd,cAAA,8OAAC;;sCACA,8OAAC;4BAAI,WAAU;sCAAkB,YAAY,KAAK,UAAU;;;;;;sCAC5D,8OAAC;4BAAI,WAAU;sCAAmB,KAAK,MAAM,CAAC,IAAI;;;;;;;;;;;;;;;;;0BAGpD,8OAAC;gBAAI,WAAU;;kCACd,8OAAC;wBAAI,WAAU;kCACb,aAAa,KAAK,MAAM,CAAC,MAAM;;;;;;oBAEhC,wBACA,8OAAC,sIAAA,CAAA,UAAU;wBAAC,WAAW;wBAAgB,QAAQ;wBAAQ,MAAM;;;;;;;;;;;;;;;;;;AAKlE;uCAEe","debugId":null}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/services/getSongBpm.ts"],"sourcesContent":["export const fetchTempoData = async (bpm: number) => {\n\tconst apiUrl = `https://api.getsong.co/tempo/?api_key=${process.env.NEXT_PUBLIC_SONGBPM_API_KEY}&bpm=${bpm}`;\n\n\tconst response = await fetch(apiUrl);\n\tif (!response.ok) {\n\t\tthrow new Error(\"Network response was not ok\");\n\t}\n\n\tconst data = await response.json();\n\n\treturn data.tempo;\n};\n"],"names":[],"mappings":";;;AAAO,MAAM,iBAAiB,OAAO;IACpC,MAAM,SAAS,CAAC,sCAAsC,uEAA0C,KAAK,EAAE,KAAK;IAE5G,MAAM,WAAW,MAAM,MAAM;IAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;QACjB,MAAM,IAAI,MAAM;IACjB;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,OAAO,KAAK,KAAK;AAClB","debugId":null}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/metronome/SongList.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport \"./SongList.scss\";\n\nimport SongCard from \"./SongCard\";\nimport { fetchTempoData } from \"../../services/getSongBpm\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Song, SongData } from \"../../types/types\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaChevronLeft,\n\tfaChevronRight,\n\tfaSpinner,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { LoaderCircle } from \"lucide-react\";\n\nfunction SongList(props: any) {\n\tconst { bpm, showSongs } = props;\n\tconst [songs, setSongs] = useState([]);\n\tconst [listStart, setListStart] = useState(0);\n\tconst [listEnd, setListEnd] = useState(12);\n\tconst [pageCounter, setPageCounter] = useState(1);\n\n\tconst { data, isLoading } = useQuery({\n\t\tqueryKey: [\"tempoData\", bpm],\n\t\tqueryFn: () => fetchTempoData(bpm),\n\t\tenabled: !!showSongs,\n\t});\n\n\tuseEffect(() => {\n\t\tsetSongs(data?.slice(listStart, listEnd));\n\t}, [data, listStart, listEnd]);\n\n\tconst renderSongListWithNav = () => {\n\t\tif (data && showSongs) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{renderSongList()}\n\t\t\t\t\t<div className=\"songlist-nav-ctn\">\n\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\ticon={faChevronLeft}\n\t\t\t\t\t\t\tclassName=\"songlist-nav-btn\"\n\t\t\t\t\t\t\tonClick={() => handleNavClick(\"prev\")}\n\t\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>Page {pageCounter}</div>\n\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\ticon={faChevronRight}\n\t\t\t\t\t\t\tclassName=\"songlist-nav-btn\"\n\t\t\t\t\t\t\tonClick={() => handleNavClick(\"next\")}\n\t\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst renderSongList = () => {\n\t\treturn songs?.map((song: SongData) => {\n\t\t\treturn <SongCard song={song} key={song.song_id} />;\n\t\t});\n\t};\n\n\tconst handleNavClick = (value: \"prev\" | \"next\") => {\n\t\tif (value === \"prev\") {\n\t\t\tif (listStart > 0) {\n\t\t\t\tsetListStart(listStart - 10);\n\t\t\t\tsetListEnd(listEnd - 10);\n\t\t\t\tif (pageCounter !== 1) {\n\t\t\t\t\tsetPageCounter(pageCounter - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (value === \"next\") {\n\t\t\tif (listEnd < 250) {\n\t\t\t\tsetListStart(listStart + 10);\n\t\t\t\tsetListEnd(listEnd + 10);\n\t\t\t\tsetPageCounter(pageCounter + 1);\n\t\t\t}\n\t\t}\n\t};\n\n\tif (!showSongs) return;\n\n\treturn (\n\t\t<>\n\t\t\t<div className={`metro-songlist ${showSongs ? \"open\" : \"closed\"}`}>\n\t\t\t\t{!isLoading && data?.length > 0 ? (\n\t\t\t\t\trenderSongListWithNav()\n\t\t\t\t) : (\n\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\ticon={faSpinner}\n\t\t\t\t\t\tspin\n\t\t\t\t\t\tclassName=\"songList-spinner\"\n\t\t\t\t\t\tsize=\"2xl\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default SongList;\n"],"names":[],"mappings":";;;;AAEA;AAGA;AACA;AACA;AAEA;AACA;AAVA;;;;;;;;;AAiBA,SAAS,SAAS,KAAU;IAC3B,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG;IAC3B,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EAAE;QACpC,UAAU;YAAC;YAAa;SAAI;QAC5B,SAAS,IAAM,CAAA,GAAA,sHAAA,CAAA,iBAAc,AAAD,EAAE;QAC9B,SAAS,CAAC,CAAC;IACZ;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACT,SAAS,MAAM,MAAM,WAAW;IACjC,GAAG;QAAC;QAAM;QAAW;KAAQ;IAE7B,MAAM,wBAAwB;QAC7B,IAAI,QAAQ,WAAW;YACtB,qBACC;;oBACE;kCACD,8OAAC;wBAAI,WAAU;;0CACd,8OAAC,oKAAA,CAAA,kBAAe;gCACf,MAAM,wKAAA,CAAA,gBAAa;gCACnB,WAAU;gCACV,SAAS,IAAM,eAAe;gCAC9B,MAAK;;;;;;0CAEN,8OAAC;;oCAAI;oCAAM;;;;;;;0CACX,8OAAC,oKAAA,CAAA,kBAAe;gCACf,MAAM,wKAAA,CAAA,iBAAc;gCACpB,WAAU;gCACV,SAAS,IAAM,eAAe;gCAC9B,MAAK;;;;;;;;;;;;;;QAKV;IACD;IAEA,MAAM,iBAAiB;QACtB,OAAO,OAAO,IAAI,CAAC;YAClB,qBAAO,8OAAC,oIAAA,CAAA,UAAQ;gBAAC,MAAM;eAAW,KAAK,OAAO;;;;;QAC/C;IACD;IAEA,MAAM,iBAAiB,CAAC;QACvB,IAAI,UAAU,QAAQ;YACrB,IAAI,YAAY,GAAG;gBAClB,aAAa,YAAY;gBACzB,WAAW,UAAU;gBACrB,IAAI,gBAAgB,GAAG;oBACtB,eAAe,cAAc;gBAC9B;YACD;QACD;QACA,IAAI,UAAU,QAAQ;YACrB,IAAI,UAAU,KAAK;gBAClB,aAAa,YAAY;gBACzB,WAAW,UAAU;gBACrB,eAAe,cAAc;YAC9B;QACD;IACD;IAEA,IAAI,CAAC,WAAW;IAEhB,qBACC;kBACC,cAAA,8OAAC;YAAI,WAAW,CAAC,eAAe,EAAE,YAAY,SAAS,UAAU;sBAC/D,CAAC,aAAa,MAAM,SAAS,IAC7B,wCAEA,8OAAC,oKAAA,CAAA,kBAAe;gBACf,MAAM,wKAAA,CAAA,YAAS;gBACf,IAAI;gBACJ,WAAU;gBACV,MAAK;;;;;;;;;;;;AAMX;uCAEe","debugId":null}},
    {"offset": {"line": 730, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/utils/spotifyAuth.ts"],"sourcesContent":["export function getSpotifyLoginUrl() {\n\tconst params = new URLSearchParams({\n\t\tclient_id: process.env.NEXT_PUBLIC_SPOTIFY_CLIENT_ID!,\n\t\tresponse_type: \"code\",\n\t\tredirect_uri: process.env.NEXT_PUBLIC_SPOTIFY_REDIRECT_URI!,\n\t\tscope: [\n\t\t\t\"user-read-email\",\n\t\t\t\"user-read-private\",\n\t\t\t\"streaming\",\n\t\t\t\"user-modify-playback-state\",\n\t\t\t\"user-read-playback-state\",\n\t\t].join(\" \"),\n\t});\n\n\treturn `https://accounts.spotify.com/authorize?${params.toString()}`;\n}\n"],"names":[],"mappings":";;;AAAO,SAAS;IACf,MAAM,SAAS,IAAI,gBAAgB;QAClC,SAAS;QACT,eAAe;QACf,YAAY;QACZ,OAAO;YACN;YACA;YACA;YACA;YACA;SACA,CAAC,IAAI,CAAC;IACR;IAEA,OAAO,CAAC,uCAAuC,EAAE,OAAO,QAAQ,IAAI;AACrE","debugId":null}},
    {"offset": {"line": 754, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/metronome/LoginWithSpotifyButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { getSpotifyLoginUrl } from \"@/utils/spotifyAuth\";\n\nexport function LoginWithSpotifyButton() {\n\tconst handleLogin = () => {\n\t\twindow.location.href = getSpotifyLoginUrl();\n\t};\n\n\treturn (\n\t\t<button onClick={handleLogin} className=\"spotify-login_btn\">\n\t\t\tLog in with\n\t\t\t<img src=\"/icons/spotify.png\" alt=\"spotify logo\" />\n\t\t</button>\n\t);\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIO,SAAS;IACf,MAAM,cAAc;QACnB,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAA,GAAA,oHAAA,CAAA,qBAAkB,AAAD;IACzC;IAEA,qBACC,8OAAC;QAAO,SAAS;QAAa,WAAU;;YAAoB;0BAE3D,8OAAC;gBAAI,KAAI;gBAAqB,KAAI;;;;;;;;;;;;AAGrC","debugId":null}},
    {"offset": {"line": 792, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/metronome/Metronome.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, useCallback } from \"react\";\n//@ts-ignore\n\nimport \"./metronome.scss\";\nimport Dropdown from \"./Dropdown\";\nimport SongList from \"./SongList\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBars } from \"@fortawesome/free-solid-svg-icons\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport Link from \"next/link\";\nimport { ChevronDown } from \"lucide-react\";\nimport Logo from \"./Logo\";\nimport { LoginWithSpotifyButton } from \"./LoginWithSpotifyButton\";\nimport SpotifyPlayer from \"./SpotifyPlayer\";\n\ntype SoundObject = {\n\twoodblock: HTMLAudioElement | undefined;\n\tcowbell: HTMLAudioElement | undefined;\n\tsidestick: HTMLAudioElement | undefined;\n};\n\nconst Metronome = () => {\n\tconst [showSongs, setShowSongs] = useState(false);\n\tconst [play, setPlay] = useState(false);\n\tconst [bpm, setBpm] = useState(120);\n\tconst [tempoInterval, setTempoInterval] = useState<number>(0);\n\tconst [tapped, setTapped] = useState<number>();\n\tconst [soundEffect, setSoundEffect] = useState(\"sidestick\");\n\tconst [debouncedBpm, setDebouncedBpm] = useState(bpm);\n\tconst [dropdownOpen, setDropdownOpen] = useState(false);\n\t// const [searchTerm, setSearchTerm] = useState('Search')\n\tconst [listSize, setListSize] = useState(12);\n\tconst [pulse, setPulse] = useState(false);\n\tconst [sounds, setSounds] = useState<SoundObject>({\n\t\twoodblock: undefined,\n\t\tcowbell: undefined,\n\t\tsidestick: undefined,\n\t});\n\n\tconst queryClient = new QueryClient();\n\n\tuseEffect(() => {\n\t\tconst woodblock = new Audio(\"sounds/Woodblock.mp3\");\n\t\tconst cowbell = new Audio(\"sounds/Cowbell.mp3\");\n\t\tconst sidestick = new Audio(\"sounds/Click.wav\");\n\t\tsetSounds({ woodblock, cowbell, sidestick });\n\t}, []);\n\n\t// ========================== Tap Tempo Logic:\n\n\tconst tapTempo = () => {\n\t\tif (tapped) {\n\t\t\tlet elapsed = new Date().getTime() - tapped;\n\t\t\tif (elapsed < 2500) {\n\t\t\t\tconst tappedBpm = Math.round((6000 / elapsed) * 10);\n\t\t\t\tsetBpm(tappedBpm);\n\t\t\t} else {\n\t\t\t\tsetTapped(new Date().getTime());\n\t\t\t}\n\t\t}\n\t\tsetTapped(new Date().getTime());\n\t};\n\n\tconst playSound = useCallback(() => {\n\t\tif (soundEffect === \"cowbell\") {\n\t\t\tsounds?.cowbell?.play();\n\t\t} else if (sounds && soundEffect === \"woodblock\") {\n\t\t\tsounds?.woodblock?.play();\n\t\t} else {\n\t\t\tsounds?.sidestick?.play();\n\t\t}\n\t}, [soundEffect, sounds]);\n\n\t// Sound and Visual:\n\n\tconst trigger = useCallback(() => {\n\t\tif (play) {\n\t\t\tplaySound();\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}, [play, playSound]);\n\n\tconst startClick = () => {\n\t\tsetPlay(!play);\n\t};\n\n\t// Tempo setter:\n\tuseEffect(() => {\n\t\tif (play) {\n\t\t\tconst intervalId = setInterval(() => {\n\t\t\t\ttrigger();\n\t\t\t\tsetPulse(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetPulse(false);\n\t\t\t\t}, tempoInterval - tempoInterval * 0.1);\n\t\t\t}, tempoInterval);\n\t\t\treturn () => {\n\t\t\t\tclearInterval(intervalId);\n\t\t\t};\n\t\t}\n\t}, [play, tempoInterval, soundEffect, trigger]);\n\n\tuseEffect(() => {\n\t\tsetTempoInterval((60 / bpm) * 1000);\n\t\tif (bpm <= 40) {\n\t\t\tsetBpm(40);\n\t\t}\n\t\tif (bpm >= 220) {\n\t\t\tsetBpm(220);\n\t\t}\n\t\tconst intervalId = setTimeout(() => {\n\t\t\tsetDebouncedBpm(bpm);\n\t\t}, 500);\n\t\treturn () => {\n\t\t\tclearTimeout(intervalId);\n\t\t};\n\t}, [bpm]);\n\n\tconst handleDisplaySongsList = () => {\n\t\tsetShowSongs(!showSongs);\n\t};\n\n\tconst increment = () => {\n\t\tsetBpm(Number(bpm) + 1);\n\t};\n\tconst decrement = () => {\n\t\tsetBpm(Number(bpm) - 1);\n\t};\n\n\treturn (\n\t\t<div className=\"metronome-ctn\">\n\t\t\t<div className={`metronome ${pulse ? \"pulse\" : \"\"}`}>\n\t\t\t\t<div className=\"header\">\n\t\t\t\t\t<Logo size={60} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"metro-display\">\n\t\t\t\t\t<div className=\"metro-btn decrement\" onClick={decrement}>\n\t\t\t\t\t\t-\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"metro-display bpm\">{bpm}</div>\n\t\t\t\t\t<div className=\"metro-btn increment\" onClick={increment}>\n\t\t\t\t\t\t+\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"range\"\n\t\t\t\t\tmin=\"40\"\n\t\t\t\t\tmax=\"220\"\n\t\t\t\t\tvalue={bpm}\n\t\t\t\t\tonChange={(e) => setBpm(Number(e.target.value))}\n\t\t\t\t/>\n\t\t\t\t<div className=\"metro-controls\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={startClick}\n\t\t\t\t\t\tclassName={`metro-btn ${play ? `pause` : `play`} noSelect`}\n\t\t\t\t\t\tid=\"metro-there\"\n\t\t\t\t\t\tstyle={{ animationDuration: `${tempoInterval}ms` }}\n\t\t\t\t\t></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"metro-btn-generate\"\n\t\t\t\t\t\tonClick={() => handleDisplaySongsList()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesomeIcon icon={faBars} size=\"2x\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div onClick={tapTempo} className=\"metro-btn-tap\">\n\t\t\t\t\t\t<div className=\"outer\">\n\t\t\t\t\t\t\t<div className=\"inner\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"metro-dropdown-header\"\n\t\t\t\t\t\tonClick={() => setDropdownOpen(!dropdownOpen)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronDown />\n\t\t\t\t\t\t{soundEffect}\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\topen={dropdownOpen}\n\t\t\t\t\t\t\tsoundEffect={soundEffect}\n\t\t\t\t\t\t\tsetSoundEffect={setSoundEffect}\n\t\t\t\t\t\t\tdropdownOpen={dropdownOpen}\n\t\t\t\t\t\t\tsetDropdownOpen={setDropdownOpen}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<LoginWithSpotifyButton />\n\t\t\t\t<h6 style={{ color: \"var(--secondary)\" }}>\n\t\t\t\t\tPowered by{\" \"}\n\t\t\t\t\t<Link href=\"https://www.getsongbpm.com\">getsongbpm.com</Link>\n\t\t\t\t</h6>\n\t\t\t\t<QueryClientProvider client={queryClient}>\n\t\t\t\t\t<SongList\n\t\t\t\t\t\tbpm={debouncedBpm}\n\t\t\t\t\t\tshowSongs={showSongs}\n\t\t\t\t\t\tlistSize={listSize}\n\t\t\t\t\t\tsetListSize={setListSize}\n\t\t\t\t\t/>\n\t\t\t\t</QueryClientProvider>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Metronome;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1146, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Slider({\n  className,\n  defaultValue,\n  value,\n  min = 0,\n  max = 100,\n  ...props\n}: React.ComponentProps<typeof SliderPrimitive.Root>) {\n  const _values = React.useMemo(\n    () =>\n      Array.isArray(value)\n        ? value\n        : Array.isArray(defaultValue)\n          ? defaultValue\n          : [min, max],\n    [value, defaultValue, min, max]\n  )\n\n  return (\n    <SliderPrimitive.Root\n      data-slot=\"slider\"\n      defaultValue={defaultValue}\n      value={value}\n      min={min}\n      max={max}\n      className={cn(\n        \"relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col\",\n        className\n      )}\n      {...props}\n    >\n      <SliderPrimitive.Track\n        data-slot=\"slider-track\"\n        className={cn(\n          \"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5\"\n        )}\n      >\n        <SliderPrimitive.Range\n          data-slot=\"slider-range\"\n          className={cn(\n            \"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full\"\n          )}\n        />\n      </SliderPrimitive.Track>\n      {Array.from({ length: _values.length }, (_, index) => (\n        <SliderPrimitive.Thumb\n          data-slot=\"slider-thumb\"\n          key={index}\n          className=\"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50\"\n        />\n      ))}\n    </SliderPrimitive.Root>\n  )\n}\n\nexport { Slider }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,YAAY,EACZ,KAAK,EACL,MAAM,CAAC,EACP,MAAM,GAAG,EACT,GAAG,OAC+C;IAClD,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,UAAa,AAAD,EAC1B,IACE,MAAM,OAAO,CAAC,SACV,QACA,MAAM,OAAO,CAAC,gBACZ,eACA;YAAC;YAAK;SAAI,EAClB;QAAC;QAAO;QAAc;QAAK;KAAI;IAGjC,qBACE,8OAAC,kKAAA,CAAA,OAAoB;QACnB,aAAU;QACV,cAAc;QACd,OAAO;QACP,KAAK;QACL,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,uOACA;QAED,GAAG,KAAK;;0BAET,8OAAC,kKAAA,CAAA,QAAqB;gBACpB,aAAU;gBACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV;0BAGF,cAAA,8OAAC,kKAAA,CAAA,QAAqB;oBACpB,aAAU;oBACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;YAIL,MAAM,IAAI,CAAC;gBAAE,QAAQ,QAAQ,MAAM;YAAC,GAAG,CAAC,GAAG,sBAC1C,8OAAC,kKAAA,CAAA,QAAqB;oBACpB,aAAU;oBAEV,WAAU;mBADL;;;;;;;;;;;AAMf","debugId":null}},
    {"offset": {"line": 1217, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/utils/helpers.ts"],"sourcesContent":["export const fetchTempoData = async (bpm: number) => {\n\tconst apiUrl = `https://api.getsongbpm.com/tempo/?api_key=${process.env.SONGBPM_API_KEY}&bpm=${bpm}`;\n\n\tconst response = await fetch(apiUrl);\n\tif (!response.ok) {\n\t\tthrow new Error(\"Network response was not ok\");\n\t}\n\n\tconst data = await response.json();\n\n\treturn data.tempo;\n};\n\nfunction normalizeTitle(title: string) {\n\treturn title\n\t\t.normalize(\"NFD\") // Decompose accents\n\t\t.replace(/[\\u0300-\\u036f]/g, \"\") // Remove accents\n\t\t.toLowerCase() // Lowercase\n\t\t.replace(/[^a-z0-9]/gi, \"\"); // Remove non-alphanumeric characters\n}\n\nexport function areTitlesSimilar(title1?: string, title2?: string) {\n\tif (title1 == undefined || title2 == undefined) {\n\t\tconsole.log(\"Some titles are missing, 1, 2: \", title1, title2);\n\t}\n\tif (title1 && title2) {\n\t\treturn normalizeTitle(title1) === normalizeTitle(title2);\n\t}\n\tconsole.log(\"Some titles are missing, 1, 2: \", title1, title2);\n}\n\nexport function formatTime(ms: number): string {\n\tconst totalSeconds = Math.floor(ms / 1000);\n\tconst minutes = Math.floor(totalSeconds / 60);\n\tconst seconds = totalSeconds % 60;\n\treturn `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n}\n"],"names":[],"mappings":";;;;;AAAO,MAAM,iBAAiB,OAAO;IACpC,MAAM,SAAS,CAAC,0CAA0C,EAAE,QAAQ,GAAG,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK;IAEpG,MAAM,WAAW,MAAM,MAAM;IAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;QACjB,MAAM,IAAI,MAAM;IACjB;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,OAAO,KAAK,KAAK;AAClB;AAEA,SAAS,eAAe,KAAa;IACpC,OAAO,MACL,SAAS,CAAC,OAAO,oBAAoB;KACrC,OAAO,CAAC,oBAAoB,IAAI,iBAAiB;KACjD,WAAW,GAAG,YAAY;KAC1B,OAAO,CAAC,eAAe,KAAK,qCAAqC;AACpE;AAEO,SAAS,iBAAiB,MAAe,EAAE,MAAe;IAChE,IAAI,UAAU,aAAa,UAAU,WAAW;QAC/C,QAAQ,GAAG,CAAC,mCAAmC,QAAQ;IACxD;IACA,IAAI,UAAU,QAAQ;QACrB,OAAO,eAAe,YAAY,eAAe;IAClD;IACA,QAAQ,GAAG,CAAC,mCAAmC,QAAQ;AACxD;AAEO,SAAS,WAAW,EAAU;IACpC,MAAM,eAAe,KAAK,KAAK,CAAC,KAAK;IACrC,MAAM,UAAU,KAAK,KAAK,CAAC,eAAe;IAC1C,MAAM,UAAU,eAAe;IAC/B,OAAO,GAAG,QAAQ,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AAC3D","debugId":null}},
    {"offset": {"line": 1258, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/metronome/SpotifyPlayer.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useContext, useEffect, useRef } from \"react\";\nimport { PlayerContext } from \"@/context/playerContext\";\nimport \"./SpotifyPlayer.css\";\nimport { Slider } from \"../ui/slider\";\nimport { toast } from \"sonner\";\nimport { formatTime } from \"@/utils/helpers\";\nimport {\n\tChevronDown,\n\tChevronsDown,\n\tChevronUp,\n\tPauseIcon,\n\tPlayIcon,\n} from \"lucide-react\";\n\nconst SpotifyPlayer = () => {\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [position, setPosition] = useState<number>(0);\n\tconst [sliderValue, setSliderValue] = useState<number>(0);\n\tconst [duration, setDuration] = useState<number>(0);\n\tconst [isPlaying, setIsPlaying] = useState(false);\n\n\tconst { isNextSongLoading, player, spotifyTrack, currentTrack } =\n\t\tuseContext<any>(PlayerContext);\n\n\tuseEffect(() => {\n\t\tif (isPlaying) {\n\t\t\tsetIsOpen(true);\n\t\t}\n\t}, [isPlaying]);\n\n\tconst isSeekingRef = useRef(false);\n\tconst previousSliderValueRef = useRef<number>(sliderValue);\n\n\t// Open player when currentTrack changes\n\tuseEffect(() => {\n\t\tif (currentTrack) {\n\t\t\tsetIsOpen(true);\n\t\t}\n\t}, [currentTrack]);\n\n\t// Reset position and slider on new track\n\tuseEffect(() => {\n\t\tif (!currentTrack) return;\n\t\tsetPosition(0);\n\t\tsetSliderValue(0);\n\t\tsetDuration(0);\n\t}, [currentTrack]);\n\n\t// Initialize slider when player is ready\n\tuseEffect(() => {\n\t\tif (!player) return;\n\n\t\tconst updateInitialSlider = async () => {\n\t\t\tconst state = await player.getCurrentState();\n\t\t\tif (state && !state.paused && state.duration) {\n\t\t\t\tsetPosition(state.position);\n\t\t\t\tsetDuration(state.duration);\n\t\t\t\tsetSliderValue((state.position / state.duration) * 100);\n\t\t\t\tsetIsPlaying(!state.paused);\n\t\t\t}\n\t\t};\n\n\t\tupdateInitialSlider();\n\t}, [player]);\n\n\t// Poll player position every 500ms (but pause updates if seeking)\n\tuseEffect(() => {\n\t\tif (!player) return;\n\n\t\tlet interval: NodeJS.Timeout;\n\n\t\tconst startPolling = () => {\n\t\t\tinterval = setInterval(async () => {\n\t\t\t\tconst state = await player.getCurrentState();\n\t\t\t\tif (!state || !state.duration) return;\n\n\t\t\t\tsetDuration(state.duration);\n\t\t\t\tsetIsPlaying(!state.paused);\n\n\t\t\t\tif (!isSeekingRef.current) {\n\t\t\t\t\tsetPosition(state.position);\n\t\t\t\t\tsetSliderValue((state.position / state.duration) * 100);\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t};\n\n\t\tstartPolling();\n\n\t\treturn () => clearInterval(interval);\n\t}, [player]);\n\n\t// Mismatch detection (toast notification)\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\tif (!player || isNextSongLoading) return;\n\t\t\tplayer.getCurrentState().then((state: Spotify.PlaybackState) => {\n\t\t\t\tif (\n\t\t\t\t\tcurrentTrack?.artist.name !==\n\t\t\t\t\tstate?.track_window?.current_track.artists[0].name\n\t\t\t\t) {\n\t\t\t\t\ttoast(\n\t\t\t\t\t\t`Mismatch: Showing: ${currentTrack?.artist.name}, Playing: ${state?.track_window?.current_track.artists[0].name}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}, 2000);\n\t}, [player, isNextSongLoading, spotifyTrack]);\n\n\t// Play/pause toggle handler\n\tconst togglePlayPause = async () => {\n\t\tif (!player) return;\n\n\t\tconst state = await player.getCurrentState();\n\t\tif (!state) return;\n\n\t\tif (state.paused) {\n\t\t\tawait player.resume();\n\t\t\tsetIsPlaying(true);\n\t\t} else {\n\t\t\tawait player.pause();\n\t\t\tsetIsPlaying(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`player_ctn ${isOpen ? \"open\" : \"\"}`}>\n\t\t\t<ChevronsDown className=\"close_btn\" onClick={() => setIsOpen(false)} />\n\t\t\t<div className=\"header\">\n\t\t\t\t<button\n\t\t\t\t\tonClick={togglePlayPause}\n\t\t\t\t\tclassName=\"player-toggle_btn\"\n\t\t\t\t\taria-label={isPlaying ? \"Pause\" : \"Play\"}\n\t\t\t\t>\n\t\t\t\t\t{isPlaying ? <PlayIcon /> : <PauseIcon />}\n\t\t\t\t</button>\n\t\t\t\t<h1>{spotifyTrack?.name}</h1>\n\t\t\t\t<p>{spotifyTrack?.artists[0].name}</p>\n\t\t\t</div>\n\t\t\t<Slider\n\t\t\t\tvalue={[sliderValue]}\n\t\t\t\tmax={100}\n\t\t\t\tstep={0.1}\n\t\t\t\tonValueChange={(value) => {\n\t\t\t\t\tsetSliderValue(value[0]);\n\t\t\t\t\tisSeekingRef.current = true;\n\n\t\t\t\t\tif (duration && value[0] !== previousSliderValueRef.current) {\n\t\t\t\t\t\tconst previewPosition = (value[0] / 100) * duration;\n\t\t\t\t\t\tsetPosition(previewPosition);\n\t\t\t\t\t\tpreviousSliderValueRef.current = value[0];\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonValueCommit={(value) => {\n\t\t\t\t\tif (!player) return;\n\t\t\t\t\tplayer.getCurrentState().then((state: Spotify.PlaybackState) => {\n\t\t\t\t\t\tif (!state) return;\n\t\t\t\t\t\tconst duration = state.duration;\n\t\t\t\t\t\tconst newPosition = (value[0] / 100) * duration;\n\t\t\t\t\t\tplayer.seek(newPosition);\n\t\t\t\t\t\tsetPosition(newPosition);\n\t\t\t\t\t\tsetSliderValue(value[0]);\n\t\t\t\t\t\tisSeekingRef.current = false;\n\t\t\t\t\t\tpreviousSliderValueRef.current = value[0];\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<div className=\"flex justify-between text-xs text-gray-400 mt-1\">\n\t\t\t\t<span>{formatTime(position || 0)}</span>\n\t\t\t\t<span>{formatTime(duration || 0)}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default SpotifyPlayer;\n"],"names":[],"mappings":"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","debugId":null}}]
}