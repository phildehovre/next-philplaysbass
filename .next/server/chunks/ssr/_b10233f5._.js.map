{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/payment/PaymentForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/payment/PaymentForm.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/payment/PaymentForm.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/payment/PaymentForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/payment/PaymentForm.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/payment/PaymentForm.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/components/payment/Checkout.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport useCookies from \"../hooks/useCookies\";\nimport PaymentForm from \"./PaymentForm\";\nimport \"./Checkout.css\";\nimport { useApiCall } from \"../services/membership\";\nimport { createUser, createMembership } from \"../services/membership\";\n\nconst Checkout = () => {\n\tconst [homeClub, setHomeClub] = useState(undefined);\n\tconst [membership, setMembership] = useState(\"\");\n\tconst [paymentDetails, setPaymentDetails] = useState(null);\n\tconst [completed, setCompleted] = useState([]);\n\n\tconst { setCookie, getCookie, deleteCookie } = useCookies();\n\tconst {\n\t\texecute: exeUser,\n\t\tisLoading: isUserLoading,\n\t\tuserError,\n\t} = useApiCall(createUser);\n\n\tconst {\n\t\texecute: exeMembership,\n\t\tisLoading: isMembershipLoading,\n\t\tmembershipError,\n\t} = useApiCall(createMembership);\n\n\tconst checkoutSequence = [\n\t\t\"homeclub\",\n\t\t\"membership\",\n\t\t\"addons\",\n\t\t\"details\",\n\t\t\"payment\",\n\t];\n\n\tconst handleSubmitRegistration = async (data) => {\n\t\tconst userData = {\n\t\t\temail: data.email,\n\t\t\tpassword: data.password,\n\t\t};\n\t\tconst membershipData = {\n\t\t\ttype: membership,\n\t\t\tstartDate: new Date(),\n\t\t\tactive: true,\n\t\t\towner: user._id,\n\t\t\t// TODO: calculate correct date\n\t\t\tendDate: new Date(),\n\t\t\tlocation: homeClub,\n\t\t};\n\t\ttry {\n\t\t\tconst user = await exeUser(userData);\n\n\t\t\tif (!user) {\n\t\t\t\tthrow new Error(\"User creation failed\");\n\t\t\t}\n\t\t\tconst membership = await exeMembership(membershipData);\n\n\t\t\tif (!membership) {\n\t\t\t\tthrow new Error(\"Membership creation failed\");\n\t\t\t}\n\n\t\t\tconsole.log(user, membership);\n\t\t\tif (user && membership) {\n\t\t\t\tnavigate(\"/\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"checkout_ctn\">\n\t\t\t<h1>Payment</h1>\n\t\t\t<PaymentForm\n\t\t\t\tonSubmit={handleSubmitRegistration}\n\t\t\t\tpaymentDetails={paymentDetails}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Checkout;\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA;;;;;;;;;;;;;AAKA,MAAM,WAAW;IAChB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAE7C,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG;IAC/C,MAAM,EACL,SAAS,OAAO,EAChB,WAAW,aAAa,EACxB,SAAS,EACT,GAAG,WAAW;IAEf,MAAM,EACL,SAAS,aAAa,EACtB,WAAW,mBAAmB,EAC9B,eAAe,EACf,GAAG,WAAW;IAEf,MAAM,mBAAmB;QACxB;QACA;QACA;QACA;QACA;KACA;IAED,MAAM,2BAA2B,OAAO;QACvC,MAAM,WAAW;YAChB,OAAO,KAAK,KAAK;YACjB,UAAU,KAAK,QAAQ;QACxB;QACA,MAAM,iBAAiB;YACtB,MAAM;YACN,WAAW,IAAI;YACf,QAAQ;YACR,OAAO,KAAK,GAAG;YACf,+BAA+B;YAC/B,SAAS,IAAI;YACb,UAAU;QACX;QACA,IAAI;YACH,MAAM,QAAO,MAAM,QAAQ;YAE3B,IAAI,CAAC,OAAM;gBACV,MAAM,IAAI,MAAM;YACjB;YACA,MAAM,aAAa,MAAM,cAAc;YAEvC,IAAI,CAAC,YAAY;gBAChB,MAAM,IAAI,MAAM;YACjB;YAEA,QAAQ,GAAG,CAAC,OAAM;YAClB,IAAI,SAAQ,YAAY;gBACvB,SAAS;YACV;QACD,EAAE,OAAO,KAAK;YACb,QAAQ,KAAK,CAAC;QACf;IACD;IAEA,qBACC,8OAAC;QAAI,WAAU;;0BACd,8OAAC;0BAAG;;;;;;0BACJ,8OAAC,qIAAA,CAAA,UAAW;gBACX,UAAU;gBACV,gBAAgB;;;;;;;;;;;;AAIpB;uCAEe","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/phil/Dev/philplaysbass/app/checkout/page.tsx"],"sourcesContent":["import Checkout from \"@/components/payment/Checkout\";\nimport React from \"react\";\n\nconst page = () => {\n\treturn (\n\t\t<div>\n\t\t\t<Checkout />\n\t\t</div>\n\t);\n};\n\nexport default page;\n"],"names":[],"mappings":";;;;AAAA;;;AAGA,MAAM,OAAO;IACZ,qBACC,8OAAC;kBACA,cAAA,8OAAC,kIAAA,CAAA,UAAQ;;;;;;;;;;AAGZ;uCAEe","debugId":null}}]
}